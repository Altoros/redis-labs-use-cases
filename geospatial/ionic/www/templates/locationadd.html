<ion-view view-title="Add Location">
  <ion-content>

<form name="aForm" novalidate="" ng-submit="submitLocation(aForm)">
  <div class="list">
    <label class="item item-input" ng-class="{ 'has-errors' : aForm.name.$invalid && aForm.$submitted, 'no-errors' : aForm.name.$valid && aForm.$submitted}">
      <span class="input-label">Name</span>
      <input type="text" name="name" ng-model="locationForm.name" ng-minlength="3" ng-maxlength="20" required>
    </label>
    <div class="error-container" ng-show="aForm.name.$error && aForm.$submitted" ng-messages="aForm.name.$error">
      <div ng-messages-include="error-list.html"></div>
    </div>
    <label class="item item-input" ng-class="{ 'has-errors' : aForm.latitude.$invalid  && aForm.$submitted, 'no-errors' : aForm.latitude.$valid  && aForm.$submitted}">
      <span class="input-label">Latitude</span>
      <input type="text" name="latitude" ng-model="locationForm.latitude" required>
    </label>
    <div class="error-container" ng-show="aForm.latitude.$error && aForm.$submitted" ng-messages="aForm.latitude.$error">
      <div ng-messages-include="error-list.html"></div>
    </div>
    <label class="item item-input" ng-class="{ 'has-errors' : aForm.longitude.$invalid  && aForm.$submitted, 'no-errors' : aForm.longitude.$valid  && aForm.$submitted}">
      <span class="input-label">Longitude</span>
      <input type="text" name="longitude" ng-model="locationForm.longitude" required>
    </label>
    <div class="error-container last-error-container" ng-show="aForm.longitude.$error && aForm.$submitted" ng-messages="aForm.longitude.$error">
      <div ng-messages-include="error-list.html"></div>
    </div>
  </div>
  <button class="button button-full button-assertive button-outline" type="submit">
    Add Location
  </button>
</form>

<script id="error-list.html" type="text/ng-template">
    <div class="error" ng-message="required">
        <i class="ion-information-circled"></i>
        This field is required!
    </div>
    <div class="error" ng-message="minlength">
        <i class="ion-information-circled"></i>
        Minimum length of this field is 3 characters!
    </div>
    <div class="error" ng-message="maxlength">
        <i class="ion-information-circled"></i>
        Maximum length of this field is 20 characters!
    </div>
</script>
</ion-content>
</ion-view>
